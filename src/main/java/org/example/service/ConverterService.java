package org.example.service;import io.github.cdimascio.dotenv.Dotenv;import org.example.model.ConverterModel;import com.google.gson.Gson;import java.net.http.*;import java.net.URI;public class ConverterService {    private static final Dotenv dotenv = Dotenv.load();    private static final String API_KEY = dotenv.get("API_KEY");    private static  final String BASE_URL = dotenv.get("BASE_URL");    public ConverterModel getRates(String baseRates)  throws Exception{        try {            if(API_KEY == null || API_KEY.isBlank() ||                    BASE_URL == null || BASE_URL.isBlank()) {                throw new IllegalStateException("API KEY or BASE_URL were not load");            }            HttpClient client = HttpClient.newHttpClient();            String url = BASE_URL + API_KEY + "/latest/" + baseRates;            HttpRequest request = HttpRequest.newBuilder()                    .uri(URI.create(url))                    .build();            HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());            return new Gson().fromJson(response.body(), ConverterModel.class);        } catch (Exception e){           System.out.println("Error " + e.getMessage());           throw e;        }    }}